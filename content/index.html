<div class="wrapper" ng-controller="MainCtrl">
  <div class="container">
    <h1 class="center">ELPA Packages</h1>

    <p class="filter-table">
      <input type="search" placeholder="{{count() ? 'Search ' + count() + ' packages across 7 ELPA' : 'Loading'}}..." name="" ng-model="keywords" ng-keypress="cache($event, keywords.trim())" ng-change="filter(keywords.trim())">
    </p>

    <table>
      <tr><th>Package</th><th>Description</th></tr>

      <tr class="visible" style="display: table-row;" ng-repeat="(name, package) in packages | limit: (pageIndex - 1) * pageSize : pageSize">
        <td class="alt"><a href="./{{::name}}/">{{::name}}</a></td>
        <td class="alt">{{::package.desc}}</td>
      </tr>
    </table>

    <div class="center pagination-bar">
      <span class="pagination-button" ng-disabled="pageIndex <= 1"><a href="" ng-click="gotoPage(1)">&nbsp;«&nbsp;</a></span>
      <span class="pagination-button" ng-disabled="pageIndex <= 1"><a href="" ng-click="gotoPage(pageIndex - 1)">&nbsp;‹&nbsp;</a></span>
      <span ng-repeat="buttonIndex in pageIndexArr" class="pagination-button" ng-class="{'pagination-button-active' : pageIndex === {{buttonIndex}}}"><a href="" ng-click="gotoPage(buttonIndex)">{{buttonIndex}}</a></span>
      <span class="pagination-button" ng-disabled="pageIndex >= pageCount"><a href="" ng-click="gotoPage(pageIndex + 1)">&nbsp;›&nbsp;</a></span>
      <span class="pagination-button" ng-disabled="pageIndex >= pageCount"><a href="" ng-click="gotoPage(pageCount)">&nbsp;»&nbsp;</a></span>
      <div class="pagination-input">
        <span>Page <input type="input" name="" ng-model="pageIndex" ng-change="gotoPage(pageIndex)" ng-keydown="selectText($event)" ng-click="selectText($event)"> of {{pageCount}}</span>
      </div>
    </div>
  </div>

</div>
